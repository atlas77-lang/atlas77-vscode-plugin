package blue_engine::error;

import "std/io";

public enum BlueEngineErrorCode {
    UpdateLoopError;
    AdapterNotFound;
    DeviceNotFound;
    LoadingTextureError;
    Custom;
}

public struct BlueEngineError {
    public:
        code: BlueEngineErrorCode;
        message: string;
        BlueEngineError(code: BlueEngineErrorCode, message: string) {
            this.code = code;
            this.message = message;
        }
        ~BlueEngineError() {
            //delete this.message;
        }
        fun code(this) -> BlueEngineErrorCode {
            return this.code;
        }
        fun message(this) -> string {
            return this.message;
        }
        fun display(this) {
            if this.code == BlueEngineErrorCode::Custom {
                print("BlueEngineError: ");
                println(this.message);
            } else if this.code == BlueEngineErrorCode::UpdateLoopError {
                print("BlueEngineError: Update loop error occurred. ");
                println(this.message);
            } else if this.code == BlueEngineErrorCode::AdapterNotFound {
                print("BlueEngineError: No suitable adapter found. ");
                println(this.message);
            } else if this.code == BlueEngineErrorCode::DeviceNotFound {
                print("BlueEngineError: No suitable device found. ");
                println(this.message);
            } else if this.code == BlueEngineErrorCode::LoadingTextureError {
                print("BlueEngineError: Error while loading texture. ");
                println(this.message);
            }
        }
}
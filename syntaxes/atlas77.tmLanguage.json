{
  "name": "Atlas77",
  "scopeName": "source.atlas77",
  "fileTypes": ["atlas"],
  "patterns": [
    { "include": "#doccomments" },
    { "include": "#comments" },
    { "include": "#package" },
    { "include": "#imports" },
    { "include": "#keywords" },
    { "include": "#types" },
    { "include": "#generics" },
    { "include": "#arrays" },
    { "include": "#functions" },
    { "include": "#destructors" },
    { "include": "#structs" },
    { "include": "#fields" },
    { "include": "#literals" },
    { "include": "#annotations" },
    { "include": "#constants" }
  ],
  "repository": {
    "doccomments": {
      "patterns": [
        {
          "name": "comment.line.documentation.atlas77",
          "match": "^\\s*///.*$"
        }
      ]
    },
    "comments": {
      "patterns": [
        { "name": "comment.line.double-slash.atlas77", "match": "//.*$" },
        { "name": "comment.block.atlas77", "begin": "/\\*", "end": "\\*/" }
      ]
    },
    "package": {
      "patterns": [
        {
          "name": "meta.package.atlas77",
          "begin": "\\b(package)\\s+",
          "beginCaptures": { "1": { "name": "keyword.control.package.atlas77" } },
          "end": ";",
          "patterns": [
            { "name": "entity.name.namespace.atlas77", "match": "[a-zA-Z_][a-zA-Z0-9_]*" },
            { "name": "punctuation.separator.namespace.atlas77", "match": "::" }
          ]
        }
      ]
    },
    "imports": {
      "patterns": [
        {
          "name": "meta.import.atlas77",
          "begin": "\\b(import)\\s+",
          "beginCaptures": { "1": { "name": "keyword.control.import.atlas77" } },
          "end": ";",
          "patterns": [
            { "name": "entity.name.namespace.atlas77", "match": "[a-zA-Z_][A-Za-z0-9_]*" },
            { "name": "punctuation.separator.namespace.atlas77", "match": "::" },
            { "name": "string.quoted.import.atlas77", "match": "\\b[a-zA-Z_][A-Za-z0-9_]*\\b" }
          ]
        }
      ]
    },
        "keywords": {
          "patterns": [
            { "name": "keyword.control.atlas77", "match": "\\b(import|package|concept|operator|struct|enum|while|if|else|where|as|match|extern|union|fun|return|new|delete|break|continue)\\b" },
            { "name": "keyword.modifier.atlas77", "match": "\\b(public|private|let|const)\\b" },
            { "name": "keyword.storage.atlas77", "match": "\\b(this|null)\\b" }
          ]
        },
    
    "types": {
      "patterns": [
        {
          "name": "storage.type.reference.nullable.atlas77",
          "match": "\\&\\s*(?:const\\s+)?([A-Z][A-Za-z0-9_]*(?:::[A-Z][A-Za-z0-9_]*)*)\\?",
          "captures": { "1": { "name": "support.class.atlas77" } }
        },
        {
          "name": "storage.type.reference.atlas77",
          "match": "\\&\\s*(?:const\\s+)?([A-Z][A-Za-z0-9_]*(?:::[A-Z][A-Za-z0-9_]*)*)\\b",
          "captures": { "1": { "name": "support.class.atlas77" } }
        },
        { "name": "storage.type.atlas77", "match": "\\b(int64|int32|int16|int8|bool|float64|float32|uint64|uint32|uint16|uint8|string|unit|char|extern_ptr)\\b" },
        { "name": "storage.type.nullable.atlas77", "match": "\\b(int64|int32|int16|int8|bool|float64|float32|uint64|uint32|uint16|uint8|string|unit|char|extern_ptr)\\?" },
        { "name": "support.type.builtin.atlas77", "match": "\\b(usize|isize)\\b" },
        { "name": "support.type.generic.nullable.atlas77", "match": "\\b([A-Z][A-Za-z0-9_]*(?:<[^>]+>)?)\\?", "captures": { "1": { "name": "support.class.atlas77" } } }
      ]
    },
    "generics": {
      "patterns": [
        {
          "name": "meta.generic.instantiation.atlas77",
          "begin": "\\b([A-Z][A-Za-z0-9_]*)\\s*(<)",
          "beginCaptures": {
            "1": { "name": "support.class.atlas77" },
            "2": { "name": "punctuation.definition.generic.atlas77" }
          },
          "end": "(>)",
          "endCaptures": { "1": { "name": "punctuation.definition.generic.atlas77" } },
          "patterns": [
            { "name": "support.class.atlas77", "match": "\\b(?:[A-Z][A-Za-z0-9_]*)(?:::[A-Z][A-Za-z0-9_]*)*\\b" },
            { "name": "storage.type.reference.atlas77", "match": "\\&\\s*(?:const\\s+)?(?:[A-Z][A-Za-z0-9_]*(?:::[A-Z][A-Za-z0-9_]*)*)\\b" },
            { "name": "storage.type.atlas77", "match": "\\b(?:int64|int32|int16|int8|bool|float64|float32|uint64|uint32|uint16|uint8|string|unit|char|extern_ptr)\\b" },
            { "name": "support.type.generic.param.atlas77", "match": "\\b[A-Z]\\b" },
            { "name": "punctuation.separator.comma.atlas77", "match": "," },
            { "include": "#generics" }
          ]
        }
      ]
    },
    "arrays": {
      "patterns": [
        { "name": "storage.type.array.atlas77", "match": "\\[[^\\]]+\\]" },
        {
          "name": "meta.array.literal.atlas77",
          "begin": "\\bnew\\s*\\[",
          "beginCaptures": { "0": { "name": "keyword.operator.new.atlas77" } },
          "end": "\\]",
          "patterns": [
            { "name": "constant.numeric.atlas77", "match": "\\b[0-9]+\\b" },
            { "name": "punctuation.separator.array.atlas77", "match": ";|," }
          ]
        },
        {
          "name": "meta.array.literal.short.atlas77",
          "begin": "(?<!new)\\[",
          "end": "\\]",
          "patterns": [
            { "name": "constant.numeric.atlas77", "match": "\\b[0-9]+\\b" },
            { "name": "punctuation.separator.array.atlas77", "match": "," }
          ]
        }
      ]
    },
    "destructors": {
      "patterns": [
        { "name": "meta.destructor.atlas77", "match": "~\\s*([A-Za-z_][A-Za-z0-9_]*)\\s*\\(", "captures": { "1": { "name": "entity.name.function.atlas77" } } }
      ]
    },
    "structs": {
      "patterns": [
        {
          "name": "entity.name.struct.declaration.atlas77",
          "match": "\\b(public\\s+struct|struct)\\s+([A-Z][A-Za-z0-9_]*)(\\s*<[^>]+>)?",
          "captures": { "2": { "name": "entity.name.class.atlas77" } }
        },
        {
          "name": "support.class.usage.atlas77",
          "match": "\\b([A-Z][A-Za-z0-9_]*)\\b",
          "captures": { "1": { "name": "support.class.atlas77" } }
        }
      ]
    },
    "fields": {
      "patterns": [
        {
          "name": "variable.field.atlas77",
          "match": "\\b(this\\.([a-zA-Z_][a-zA-Z0-9_]*))\\b",
          "captures": { "1": { "name": "variable.field.reference.atlas77" }, "2": { "name": "variable.field.name.atlas77" } }
        },
        {
          "name": "variable.other.property.atlas77",
          "match": "\\b(let|const)?\\s*([a-zA-Z_][a-zA-Z0-9_]*)\\s*:\\s*([A-Za-z0-9_<>,\\[\\];:\\s]+\\?)\\s*;",
          "captures": { "2": { "name": "variable.other.atlas77" }, "3": { "name": "storage.type.nullable.atlas77" } }
        },
        {
          "name": "variable.other.property.atlas77",
          "match": "\\b(let|const)?\\s*([a-zA-Z_][a-zA-Z0-9_]*)\\s*:\\s*([A-Za-z0-9_<>,\\[\\];:\\s]+)\\s*;",
          "captures": { "2": { "name": "variable.other.atlas77" }, "3": { "name": "storage.type.atlas77" } }
        }
      ]
    },
    "functions": {
      "patterns": [
        {
          "name": "meta.function.declaration.atlas77",
          "begin": "\\b(?:(public|private)\\s+)?(fun)\\s+([A-Za-z_][A-Za-z0-9_]*)\\s*(?=(<|\\())",
          "beginCaptures": {
            "1": { "name": "keyword.modifier.atlas77" },
            "2": { "name": "keyword.control.atlas77" },
            "3": { "name": "entity.name.function.atlas77" }
          },
          "end": "\\)\\s*(->\\s*([A-Za-z0-9_<>,\\[\\]&\\s:;]+))?\\s*\\{",
          "endCaptures": {
            "2": { "name": "storage.type.atlas77" }
          },
          "patterns": [
            { "include": "#types" },
            { "include": "#generics" },
            { "include": "#arrays" },
            { "include": "#annotations" }
          ]
        },
        {
          "name": "meta.extern.declaration.atlas77",
          "begin": "\\b(?:(public|private)\\s+)?extern\\s+([A-Za-z_][A-Za-z0-9_]*)\\s*(?=(<|\\())",
          "beginCaptures": {
            "1": { "name": "keyword.modifier.atlas77" },
            "2": { "name": "entity.name.function.atlas77" }
          },
          "end": "\\)\\s*(->\\s*([A-Za-z0-9_<>,\\[\\]&\\s:;]+))?\\s*;",
          "endCaptures": {
            "2": { "name": "storage.type.atlas77" },
            "3": { "name": "storage.type.atlas77" }
          },
          "patterns": [
            { "include": "#types" },
            { "include": "#generics" },
            { "include": "#arrays" }
          ]
        },
        {
          "name": "entity.name.function.declaration.atlas77",
          "match": "\\b(fun)\\s+([A-Za-z_][A-Za-z0-9_]*)\\s*(<[^>]+>)?\\s*\\(([^)]*)\\)\\s*(->\\s*([A-Za-z0-9_<>,\\[\\]:;\\s]+))?",
          "captures": { "2": { "name": "entity.name.function.atlas77" }, "6": { "name": "storage.type.atlas77" } }
        },
        {
          "name": "support.function.call.atlas77",
          "match": "\\b([a-zA-Z_][a-zA-Z0-9_]*)\\s*\\(",
          "captures": { "1": { "name": "support.function.call.atlas77" } }
        },
        {
          "name": "support.method.call.atlas77",
          "match": "\\b(this\\.[a-zA-Z_][a-zA-Z0-9_]*)\\s*\\(",
          "captures": { "1": { "name": "support.method.call.atlas77" } }
        },
        {
          "name": "meta.namespace.method.atlas77",
          "match": "\\b([A-Z][A-Za-z0-9_]*)::([A-Za-z_][A-Za-z0-9_]*)\\b",
          "captures": { "1": { "name": "support.class.namespace.atlas77" }, "2": { "name": "support.method.namespace.atlas77" } }
        }
      ]
    },
    "annotations": {
      "patterns": [
        { "name": "meta.annotation.atlas77", "begin": "#\\[", "end": "\\]", "patterns": [ { "name": "entity.name.annotation.atlas77", "match": "^[a-zA-Z_][a-zA-Z0-9_]*" } ] }
      ]
    },
    "constants": { "patterns": [ { "name": "constant.language.atlas77", "match": "\\b(true|false)\\b" } ] },
    "literals": {
      "patterns": [
        { "name": "constant.numeric.atlas77", "match": "\\b[0-9]+(\\.[0-9]+)?(\\_u64|_f64|_i64)?\\b" },
        { "name": "string.quoted.double.atlas77", "begin": "\"", "end": "\"", "patterns": [ { "name": "constant.character.escape.atlas77", "match": "\\\\." } ] },
        { "name": "string.quoted.single.atlas77", "begin": "'", "end": "'", "patterns": [ { "name": "constant.character.escape.atlas77", "match": "\\\\." } ] }
      ]
    }
  }
}
